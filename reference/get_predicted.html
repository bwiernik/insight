<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compute Model's Predictions — get_predicted • insight</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Compute Model's Predictions — get_predicted" />
<meta property="og:description" content="Compute Model's Predictions." />
<meta property="og:image" content="/logo.png" />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">insight</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.13.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/insight.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/display.html">Formatting, printing and exporting tables</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/easystats/insight/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute Model's Predictions</h1>
    <small class="dont-index">Source: <a href='https://github.com/easystats/insight/blob/master/R/get_predicted.R'><code>R/get_predicted.R</code></a></small>
    <div class="hidden name"><code>get_predicted.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute Model's Predictions.</p>
    </div>

    <pre class="usage"><span class='fu'>get_predicted</span><span class='op'>(</span><span class='va'>x</span>, data <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for lm</span>
<span class='fu'>get_predicted</span><span class='op'>(</span><span class='va'>x</span>, data <span class='op'>=</span> <span class='cn'>NULL</span>, predict <span class='op'>=</span> <span class='st'>"relation"</span>, iterations <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for stanreg</span>
<span class='fu'>get_predicted</span><span class='op'>(</span>
  <span class='va'>x</span>,
  data <span class='op'>=</span> <span class='cn'>NULL</span>,
  predict <span class='op'>=</span> <span class='st'>"relation"</span>,
  iterations <span class='op'>=</span> <span class='cn'>NULL</span>,
  include_random <span class='op'>=</span> <span class='cn'>TRUE</span>,
  include_smooth <span class='op'>=</span> <span class='cn'>TRUE</span>,
  centrality_function <span class='op'>=</span> <span class='fu'>stats</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/stats/median.html'>median</a></span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A statistical model (can also be a data.frame, in which case the second argument has to be a model).</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>An optional data frame in which to look for variables with which to predict. If omitted, the data used to fit the model is used.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other argument to be passed for instance to <code><a href='get_predicted_ci.html'>get_predicted_ci</a></code>.</p></td>
    </tr>
    <tr>
      <th>predict</th>
      <td><p>Can be <code>"link"</code>, <code>"relation"</code> (default), or <code>"prediction"</code>. This modulates the scale of the output as well as the type of certainty interval. More specifically, <code>"link"</code> gives an output on the link-scale (for logistic models, that means the log-odds scale) with a confidence interval (CI). <code>"relation"</code> (default) also returns confidence intervals, but this time the output is on the response scale (for logistic models, that means probabilities). Finally, <code>"predict"</code> also gives an output on the response scale, but this time associated with a prediction interval (PI), which is larger than a confidence interval (though it mostly make sense for linear models). gives Read more about in the <strong>Details</strong> section below.</p></td>
    </tr>
    <tr>
      <th>iterations</th>
      <td><p>For Bayesian models, this corresponds to the number of posterior draws. If <code>NULL</code>, will return all the draws (one for each iteration of the model). For frequentist models, if not <code>NULL</code>, will generate bootstrapped draws, from which bootstrapped CIs will be computed.</p></td>
    </tr>
    <tr>
      <th>include_random</th>
      <td><p>If <code>TRUE</code> (default), include all random effects in the prediction. If <code>FALSE</code>, don't take them into account. Can also be a formula to specify which random effects to condition on when predicting (passed to the <code>re.form</code> argument). If <code>include_random = TRUE</code> and <code>newdata</code> is provided, make sure to include the random effect variables in <code>newdata</code> as well.</p></td>
    </tr>
    <tr>
      <th>include_smooth</th>
      <td><p>For General Additive Models (GAMs). If <code>FALSE</code>, will fix the value of the smooth to its average, so that the predictions are not depending on it.</p></td>
    </tr>
    <tr>
      <th>centrality_function</th>
      <td><p>The function used to obtain a centrality estimate for bootstrapped or Bayesian models. Usually <code><a href='https://rdrr.io/r/stats/median.html'>median()</a></code> (default), <code><a href='https://rdrr.io/r/base/mean.html'>mean()</a></code>, or <code><a href='https://easystats.github.io/bayestestR/reference/map_estimate.html'>bayestestR::map_estimate()</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The fitted values (i.e. predictions for the response). For Bayesian or bootstrapped models (when <code>iterations != NULL</code>), this will be a dataframe with all iterations as columns (observations are still rows).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>predict</code> argument jointly modulates two separate concepts, the <strong>scale</strong> and the <strong>uncertainty interval</strong>.</p>
<h3 class='hasAnchor' id='confidence-interval-vs-prediction-interval-'><a class='anchor' href='#confidence-interval-vs-prediction-interval-'></a>Confidence Interval vs. Prediction Interval)</h3>

<ul>
<li><p><strong>Linear models</strong> - <code><a href='https://rdrr.io/r/stats/lm.html'>lm()</a></code>: For linear models, Prediction intervals (<code>predict = "prediction"</code>) show the range that likely contains the value of a new observation (in what range it is likely to fall), whereas confidence intervals (<code>predict = "relation"</code> or <code>predict = "link"</code>) reflect the uncertainty around the estimated parameters (and gives the range of uncertainty of the regression line). lIn general, Prediction Intervals (PIs) account for both the uncertainty in the model's parameters, plus the random variation of the individual values. Thus, prediction intervals are always wider than confidence intervals. Moreover, prediction intervals will not necessarily become narrower as the sample size increases (as they do not reflect only the quality of the fit, but also the variability within the data).</p></li>
<li><p><strong>General Linear models</strong> - <code><a href='https://rdrr.io/r/stats/glm.html'>glm()</a></code>: For binomial models, prediction intervals are somewhat useless (for instance, for a binomial model for which the dependent variable is a vector of 1s and 0s, the prediction interval is... <code>[0, 1]</code>).</p></li>
</ul>


<h3 class='hasAnchor' id='link-scale-vs-response-scale'><a class='anchor' href='#link-scale-vs-response-scale'></a>Link scale vs. Response scale</h3>
<p>Having the output is on the scale of the response variable is arguably the most convenient to understand and visualize the relationships. If on the link-scale, no transformation is applied and the values are on the scale of the model's predictors. For instance, for a logistic model, the response scale corresponds to the predicted probabilities, whereas the link-scale makes predictions of log-odds (probabilities on the logit scale).</p>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>get_predicted_ci</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='va'>cyl</span> <span class='op'>+</span> <span class='va'>hp</span>, data <span class='op'>=</span> <span class='va'>mtcars</span><span class='op'>)</span>
<span class='va'>predictions</span> <span class='op'>&lt;-</span> <span class='fu'>get_predicted</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='va'>predictions</span>
</div><div class='output co'>#&gt; <span style='color: #0000BB;'>Predicted values:
#&gt; 
#&gt; </span><span> [1] 21.21678 21.21678 26.07124 21.21678 15.44448 21.31239 14.10597 26.66401
#&gt;  [9] 26.03299 20.96820 20.96820 15.34888 15.34888 15.34888 14.87083 14.67962
#&gt; [17] 14.39279 26.58752 26.85523 26.60665 25.99475 15.92253 15.92253 14.10597
#&gt; [25] 15.44448 26.58752 26.10948 25.68880 13.74265 19.97387 12.38501 25.76529
#&gt; </span><span style='color: #BBBB00;'>
#&gt; NOTE: Confidence intervals, if available, are stored as attributes and can be acccessed using `as.data.frame()` on this output.</span><span></div><div class='input'>
<span class='fu'>get_predicted</span><span class='op'>(</span><span class='va'>x</span>, predict <span class='op'>=</span> <span class='st'>"prediction"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #0000BB;'>Predicted values:
#&gt; 
#&gt; </span><span> [1] 21.21678 21.21678 26.07124 21.21678 15.44448 21.31239 14.10597 26.66401
#&gt;  [9] 26.03299 20.96820 20.96820 15.34888 15.34888 15.34888 14.87083 14.67962
#&gt; [17] 14.39279 26.58752 26.85523 26.60665 25.99475 15.92253 15.92253 14.10597
#&gt; [25] 15.44448 26.58752 26.10948 25.68880 13.74265 19.97387 12.38501 25.76529
#&gt; </span><span style='color: #BBBB00;'>
#&gt; NOTE: Confidence intervals, if available, are stored as attributes and can be acccessed using `as.data.frame()` on this output.</span><span></div><div class='input'>
<span class='co'># Get CI</span>
<span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='va'>predictions</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                     Predicted        SE    CI_low  CI_high
#&gt; Mazda RX4            21.21678 0.7281647 19.727518 22.70605
#&gt; Mazda RX4 Wag        21.21678 0.7281647 19.727518 22.70605
#&gt; Datsun 710           26.07124 0.9279509 24.173366 27.96911
#&gt; Hornet 4 Drive       21.21678 0.7281647 19.727518 22.70605
#&gt; Hornet Sportabout    15.44448 0.9200310 13.562810 17.32616
#&gt; Valiant              21.31239 0.7777664 19.721680 22.90310
#&gt; Duster 360           14.10597 1.0080670 12.044237 16.16769
#&gt; Merc 240D            26.66401 0.9225132 24.777260 28.55076
#&gt; Merc 230             26.03299 0.9362657 24.118117 27.94787
#&gt; Merc 280             20.96820 0.6234320 19.693139 22.24326
#&gt; Merc 280C            20.96820 0.6234320 19.693139 22.24326
#&gt; Merc 450SE           15.34888 0.8862558 13.536280 17.16147
#&gt; Merc 450SL           15.34888 0.8862558 13.536280 17.16147
#&gt; Merc 450SLC          15.34888 0.8862558 13.536280 17.16147
#&gt; Cadillac Fleetwood   14.87083 0.8057154 13.222961 16.51871
#&gt; Lincoln Continental  14.67962 0.8206255 13.001249 16.35798
#&gt; Chrysler Imperial    14.39279 0.8911693 12.570146 16.21544
#&gt; Fiat 128             26.58752 0.9099596 24.726448 28.44860
#&gt; Honda Civic          26.85523 0.9695585 24.872258 28.83820
#&gt; Toyota Corolla       26.60665 0.9127445 24.739874 28.47342
#&gt; Toyota Corona        25.99475 0.9454598 24.061069 27.92843
#&gt; Dodge Challenger     15.92253 1.1490264 13.572504 18.27255
#&gt; AMC Javelin          15.92253 1.1490264 13.572504 18.27255
#&gt; Camaro Z28           14.10597 1.0080670 12.044237 16.16769
#&gt; Pontiac Firebird     15.44448 0.9200310 13.562810 17.32616
#&gt; Fiat X1-9            26.58752 0.9099596 24.726448 28.44860
#&gt; Porsche 914-2        26.10948 0.9205392 24.226768 27.99220
#&gt; Lotus Europa         25.68880 1.0474287 23.546572 27.83104
#&gt; Ford Pantera L       13.74265 1.2011595 11.286007 16.19930
#&gt; Ferrari Dino         19.97387 0.7635547 18.412227 21.53552
#&gt; Maserati Bora        12.38501 2.1153615  8.058613 16.71141
#&gt; Volvo 142E           25.76529 1.0175965 23.684073 27.84651</div><div class='input'>
<span class='co'># Bootsrapped</span>
<span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='fu'>get_predicted</span><span class='op'>(</span><span class='va'>x</span>, iterations <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, include_iterations <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    Predicted        SE    CI_low  CI_high
#&gt; 1   21.28226 0.7294724 19.932848 22.69425
#&gt; 2   21.28226 0.7294724 19.932848 22.69425
#&gt; 3   26.19968 1.2159623 23.709626 28.49205
#&gt; 4   21.28226 0.7294724 19.932848 22.69425
#&gt; 5   15.27344 0.8024721 13.415287 16.55061
#&gt; 6   21.38737 0.7815932 19.941101 22.83304
#&gt; 7   13.93067 0.9679625 11.299462 15.16234
#&gt; 8   26.92832 1.1865444 24.597097 29.17495
#&gt; 9   26.17054 1.2249107 23.645951 28.44331
#&gt; 10  21.02098 0.6234041 19.693782 22.08264
#&gt; 11  21.02098 0.6234041 19.693782 22.08264
#&gt; 12  15.15017 0.7614376 13.399981 16.38366
#&gt; 13  15.15017 0.7614376 13.399981 16.38366
#&gt; 14  15.15017 0.7614376 13.399981 16.38366
#&gt; 15  14.65710 0.6747630 13.194831 15.63884
#&gt; 16  14.51917 0.7050963 12.753683 15.46338
#&gt; 17  14.16608 0.8112578 12.174440 15.27347
#&gt; 18  26.84280 1.1784427 24.553484 29.08683
#&gt; 19  27.22592 1.2216581 24.645970 29.39523
#&gt; 20  26.86741 1.1801405 24.582436 29.10886
#&gt; 21  26.12940 1.2346429 23.582277 28.39188
#&gt; 22  15.85051 1.0776006 13.710199 17.93704
#&gt; 23  15.85051 1.0776006 13.710199 17.93704
#&gt; 24  13.93067 0.9679625 11.299462 15.16234
#&gt; 25  15.27344 0.8024721 13.415287 16.55061
#&gt; 26  26.84280 1.1784427 24.553484 29.08683
#&gt; 27  26.23290 1.2078150 23.791173 28.53611
#&gt; 28  25.70587 1.3383766 23.010074 28.05897
#&gt; 29  13.59792 1.2080027 10.191156 15.06412
#&gt; 30  19.93928 0.8364845 17.834366 21.18902
#&gt; 31  12.16881 2.2548471  6.019652 14.71227
#&gt; 32  25.79529 1.3084173 23.157365 28.11547</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Bayesian models</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://mc-stan.org/rstanarm/'>"rstanarm"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://mc-stan.org/rstanarm/reference/stan_glm.html'>stan_glm</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='va'>am</span>, data <span class='op'>=</span> <span class='va'>mtcars</span>, refresh <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
  <span class='va'>predictions</span> <span class='op'>&lt;-</span> <span class='fu'>get_predicted</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
  <span class='va'>predictions</span>
  <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='va'>predictions</span>, include_iterations <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='op'>}</span>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by <a href="https://github.com/strengejacke/" class="external-link">Daniel Lüdecke</a>, <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, Philip Waggoner, <a href="https://sites.google.com/view/mattansb/" class="external-link">Mattan S. Ben-Shachar</a>.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9000.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


